{% extends "base.html" %}
{% load static %}

{% load api_board_tags %}

{% block content %}

<div class="container-fluid footer_padding board_background">

<div id="content">
  <div class="text-center  text-white">
    <h2 class="page_title_padding">Tableau API : Voyelles - Diphtongues</h2>
  </div>
</div>

<div class="container my-auto justify-content-center card o-hidden border-0 shadow my-5">
  <div class="col-xl-12 col-lg-12 col-md-12">
      <div class="card-body p-0">
        <div class="row">
            <div class="col-12">
              {% include 'message.html' %}
              <div class="p-5">
                <div class="row">
                <table style="position: relative; width: 70%; height: 500px; text-align: center; background: transparent;">
                    <tbody>
                    <tr>
                        <td style="width: 300px; height: 210px; text-align: center; background: transparent; font-size: 120%;">

                            <svg width="100%" height="650px">
                                <line x1="5%" y1="2%" x2="42%" y2="86%" stroke="red"/>
                                <line x1="91%" y1="2%" x2="91%" y2="86%" stroke="red"/>
                                <line x1="5%" y1="2%" x2="91%" y2="2%" stroke="red"/>
                                <line x1="42%" y1="86%" x2="91%" y2="86%" stroke="red"/>
                                <line x1="17%" y1="30%" x2="91%" y2="30%" stroke="red"/>
                                <line x1="30%" y1="58%" x2="91%" y2="58%" stroke="red"/>
                                <line x1="45%" y1="2%" x2="66%" y2="86%" stroke="red"/>

                                <line x1="41%" y1="86%" x2="30%" y2="20%" stroke="blue"/>
                                <line x1="30%" y1="20%" x2="28%" y2="25%" stroke="blue"/>
                                <line x1="30%" y1="20%" x2="34%" y2="25%" stroke="blue"/>

                                <line x1="41%" y1="86%" x2="69%" y2="20%" stroke="#c554c7"/>
                                <line x1="69%" y1="20%" x2="64%" y2="23%" stroke="#c554c7"/>
                                <line x1="69%" y1="20%" x2="71%" y2="25%" stroke="#c554c7"/>

                                <line x1="16%" y1="28%" x2="27%" y2="20%" stroke="#349961"/>
                                <line x1="27%" y1="20%" x2="23%" y2="20%" stroke="#349961"/>
                                <line x1="27%" y1="20%" x2="25%" y2="24%" stroke="#349961"/>

                                <line x1="89%" y1="57%" x2="35%" y2="24%" stroke="black"/>
                                <line x1="35%" y1="24%" x2="38%" y2="23%" stroke="black"/>
                                <line x1="35%" y1="24%" x2="36%" y2="28%" stroke="black"/>

                                <line x1="89%" y1="28%" x2="75%" y2="18%" stroke="#f09132"/>
                                <line x1="75%" y1="18%" x2="79%" y2="17%" stroke="#f09132"/>
                                <line x1="75%" y1="18%" x2="76%" y2="23%" stroke="#f09132"/>


                            </svg>


                        <div style="position: absolute; left: 27%; width: 2.33em; top: 14%; ">
                            <p>ɪ</p>
                        </div>

                        <div style="position: absolute; left: 69%; width: 1em; top: 14%; ">
                            <p>ʊ</p>
                        </div>

                        <div style="position: absolute; left: 12%; width: 2.7em; top: 28%;">
                             <p>e</p>
                        </div>

                        <div style="position: absolute; left: 89%; width: 2.7em; top: 28%; ">
                           <p>o</p>
                        </div>

                         <div style="position: absolute; left: 89%; width: 2.7em; top: 56%; ">
                             <p>ɔ</p>
                         </div>

                          <div style="position: absolute; left: 38%; width: 2.7em; top: 86%; ">
                            <p>a</p>
                         </div>



                     {% for vowel in vowels %}
                      {% if vowel.label == 'aɪ' %}
                        <div class="dropdown"
                             style="position: absolute; left: 32%; width: 2.33em; top: 40%; color: blue; ">
                             <p class="diphthong_letter_style" data-target="collapse_{{ vowel.label }}"
                               data-toggle="dropdown">{{ vowel.label }}</p>


                        {% elif vowel.label == 'oʊ' %}
                            <div class="dropdown"
                             style="position: absolute; left: 81%; width: 2.33em; top: 17%; color: #f09132; ">
                                <p class="diphthong_letter_style" data-target="collapse_{{ vowel.label }}"
                               data-toggle="dropdown">{{ vowel.label }}</p>


                        {% elif vowel.label == 'ɔɪ'  %}
                                <div class="dropdown"
                             style="position: absolute; left: 49%; width: 2.33em; top: 28%; color: black; ">
                             <p class="diphthong_letter_style" data-target="collapse_{{ vowel.label }}"
                               data-toggle="dropdown">{{ vowel.label }}</p>

                           {% elif vowel.label == 'eɪ'  %}
                            <div class="dropdown"
                             style="position: absolute; left: 16%; width: 2.33em; top: 20%; color: #349961; ">
                             <p class="diphthong_letter_style" data-target="collapse_{{ vowel.label }}"
                               data-toggle="dropdown">{{ vowel.label }}</p>

                            {% elif vowel.label == 'aʊ' %}
                             <div class="dropdown"
                             style="position: absolute; left: 60%; width: 2.33em; top: 40%; color: #c554c7; ">
                             <p class="diphthong_letter_style" data-target="collapse_{{ vowel.label }}"
                                data-toggle="dropdown">{{ vowel.label }}</p>


                            {% endif %}

                                 <div
                                 class="dropdown-menu card-body p-2"
                                 aria-labelledby="dropDownButton_{{ vowel.label }}">
                                <form>
                                <p class="quit-cross float-right"><i class="fas fa-times"></i></p>
                                <p class="info-section-consonant-title">Diphtongue {{ vowel.label }}</p>
                                <p id="play_{{ vowel.label }}" class="listen-button"><i class="fas fa-volume-up"></i>  Ecouter</p>
                                <p class="info-section-consonant-title">Exemples</p>
                                    {% for example in example_words|examples:vowel.id %}
                                    <p id="play_{{ example.label }}" class="listen-button"><i class="fas fa-volume-up"></i> {{ example.label }}</p>


                                    {% block jquery %}
                                    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
                                    <script type="text/javascript">

                                    function say(m) {
                                        var msg = new SpeechSynthesisUtterance();
                                        var voices = window.speechSynthesis.getVoices();
                                        msg.voice = voices[2];
                                        msg.volume = 1;
                                        msg.rate = 1;
                                        msg.pitch = 0.8;
                                        msg.text = m;
                                        msg.lang = 'en-US';
                                        speechSynthesis.speak(msg);
                                     }

                                $(document).ready(function(){

                                        var vowelElement = document.createElement("audio");
                                        vowelElement.src = "{{ MEDIA_URL }}/vowels_audio/{{ vowel.sound_file_name }}";
                                        $('#play_{{ vowel.label }}').click(function(){
                                            vowelElement.play();
                                        });

                                        var audioElement = document.createElement("audio");
                                        $('#play_{{ example.label }}').click(function(){
                                            say('{{ example.label }}');
                                            });

                                        });




                                        </script>
                            {% endblock %}

                                    {% endfor %}
                                </form>
                             </div>
                             </div></div></div></div></div>



                       {% endfor %}




                        </td>

                    </tr>
                    </tbody>
                </table>
                </div>
              </div>
            </div>
        </div>
      </div>
  </div>
</div>



</div>

{% endblock %}