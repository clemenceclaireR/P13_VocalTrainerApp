{% extends "base.html" %}
{% load static %}

{% load ipa_board_tags %}

{% block content %}

<div class="container-fluid footer_padding">

<div id="content">
  <div class="text-center text-white page_title_padding">
    <h3>Tableau phonétique anglaise</h3>
    <h4>Voyelles simples</h4>
  </div>

  <div class="container col-xl-4 col-lg-5 col-md-10 col-sm-10 col-xs-10 mx-auto card-font">
    <div class="card-body p-0">
      {% include 'message.html' %}
      {% include 'web_speech_api_alert.html' %}
        <table class="schema_section">
          <tbody>
            <tr style="margin: 5em;">
              <td style=" text-align: center; font-size: 120%;">
                <div class="breadcrumbs" style="margin-bottom:1.5rem;">
                  <a href="{% url 'ipa_board:index' %}">Page d'accueil</a> >
                  <a href="{% url 'ipa_board:ipa_board_menu' %}">Menu tableau phonétique anglaise</a> >
                  <a href="{% url 'ipa_board:vowel_menu' %}">Voyelles</a>
                         > Voyelles simples
                </div>

                <svg width="100%" height="500px">
                  <line x1="5%" y1="2%" x2="42%" y2="86%" stroke="red"/>
                  <line x1="91%" y1="2%" x2="91%" y2="86%" stroke="red"/>
                  <line x1="5%" y1="2%" x2="91%" y2="2%" stroke="red"/>
                  <line x1="42%" y1="86%" x2="91%" y2="86%" stroke="red"/>
                  <line x1="17%" y1="30%" x2="91%" y2="30%" stroke="red"/>
                  <line x1="30%" y1="58%" x2="91%" y2="58%" stroke="red"/>
                  <line x1="45%" y1="2%" x2="66%" y2="86%" stroke="red"/>
                </svg>

                {% for vowel in vowels %}
                  {% if vowel.label == 'i' %}
                    <div class="dropdown diagram-letter"
                         style="position: absolute; left: 0%; width: 8%; height:8%; top: 6%;
                              background-color:rgba(219, 180, 190, 0.5);border-radius: 50%;">
                      <p class="vowel_letter_style" data-target="collapse_{{ vowel.label }}"
                           id="collapse_{{ vowel.label }}" data-toggle="dropdown">{{ vowel.label }}</p>

                  {% elif vowel.label == 'u' %}
                    <div class="dropdown"
                       style="position: absolute; left: 86%; width: 8%; height:8%; top: 6%;
                              background-color:rgba(219, 180, 190, 0.5);border-radius: 50%;">
                       <p class="vowel_letter_style" data-target="collapse_{{ vowel.label }}"
                            id="collapse_{{ vowel.label }}" data-toggle="dropdown">{{ vowel.label }}</p>

                  {% elif vowel.label == 'ɪ' %}
                    <div class="dropdown" style="position: absolute; left: 25%; width: 8%; height:8%; top: 18%;
                              background-color:rgba(219, 180, 190, 0.5);border-radius: 50%;">
                      <p class="vowel_letter_style" data-target="collapse_{{ vowel.label }}"
                               id="collapse_{{ vowel.label }}" data-toggle="dropdown">{{ vowel.label }}</p>

                  {% elif vowel.label == 'ʊ' %}
                    <div class="dropdown" style="position: absolute; left: 67%; width: 8%; height:8%; top: 18%;
                              background-color:rgba(219, 180, 190, 0.5);border-radius: 50%;">
                      <p class="vowel_letter_style" data-target="collapse_{{ vowel.label }}"
                               id="collapse_{{ vowel.label }}" data-toggle="dropdown">{{ vowel.label }}</p>

                  {% elif vowel.label == 'ə' %}
                    <div class="dropdown" style="position: absolute; left: 51%; width: 8%; height:8%; top: 43%;
                              background-color:rgba(219, 180, 190, 0.5);border-radius: 50%;">
                      <p class="vowel_letter_style" data-target="collapse_{{ vowel.label }}"
                           id="collapse_{{ vowel.label }}" data-toggle="dropdown">{{ vowel.label }}</p>

                  {% elif vowel.label == 'ɛ' %}
                    <div class="dropdown" style="position: absolute; left: 24%; width: 8%; height:8%; top: 56%;
                              background-color:rgba(219, 180, 190, 0.5);border-radius: 50%;">
                      <p class="vowel_letter_style" data-target="collapse_{{ vowel.label }}"
                           id="collapse_{{ vowel.label }}" data-toggle="dropdown">{{ vowel.label }}</p>

                  {% elif vowel.label == 'ɜ' %}
                    <div class="dropdown" style="position: absolute; left: 55%; width: 8%; height:8%; top: 56%;
                              background-color:rgba(219, 180, 190, 0.5);border-radius: 50%;">
                      <p class="vowel_letter_style" data-target="collapse_{{ vowel.label }}"
                              id="collapse_{{ vowel.label }}" data-toggle="dropdown">{{ vowel.label }}</p>

                  {% elif vowel.label == 'ʌ' %}
                    <div class="dropdown" style="position: absolute; left: 83%; width: 8%; height:8%; top: 56%;
                              background-color:rgba(219, 180, 190, 0.5);border-radius: 50%;">
                      <p class="vowel_letter_style" data-target="collapse_{{ vowel.label }}"
                                id="collapse_{{ vowel.label }}" data-toggle="dropdown">{{ vowel.label }}</p>

                  {% elif vowel.label == 'ɔ' %}
                    <div class="dropdown" style="position: absolute; left: 90%; width: 8%; height:8%; top: 56%;
                              background-color:rgba(219, 180, 190, 0.5);border-radius: 50%;">
                      <p class="vowel_letter_style" data-target="collapse_{{ vowel.label }}"
                           id="collapse_{{ vowel.label }}" data-toggle="dropdown">{{ vowel.label }}</p>

                  {% elif vowel.label == 'æ' %}
                    <div class="dropdown" style="position: absolute; left: 32%; width: 8%; height:8%; top: 70%;
                              background-color:rgba(219, 180, 190, 0.5);border-radius: 50%;">
                      <p class="vowel_letter_style" data-target="collapse_{{ vowel.label }}"
                           id="collapse_{{ vowel.label }}" data-toggle="dropdown">{{ vowel.label }}</p>

                  {% elif vowel.label == 'ɑ' %}
                    <div class="dropdown" style="position: absolute; left: 86%; width: 8%; height:8%; top: 84%;
                              background-color:rgba(219, 180, 190, 0.5);border-radius: 50%;">
                      <p class="vowel_letter_style" data-target="collapse_{{ vowel.label }}"
                           id="collapse_{{ vowel.label }}" data-toggle="dropdown">{{ vowel.label }}</p>

                  {% endif %}

                  <div class="dropdown-menu card-body p-2"
                       aria-labelledby="dropDownButton_{{ vowel.label }}">

                    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
                    <script type="text/javascript">
                      $(window).bind("load", function () {
                        var vowelElement = document.createElement("audio");
                        vowelElement.src = "{{ vowel.sound_file_path }}";
                        $('#play_{{ vowel.label }}').click(function(){
                          vowelElement.play();
                        });
                       });
                     </script>

                    <form>
                      <p id="quit_cross_{{ vowel.label }}" class="quit-cross float-right">
                        <i class="fas fa-times"></i></p>
                      <p class="info-section-consonant-title">Voyelle {{ vowel.label }}</p>
                      <p id="play_{{ vowel.label }}" class="listen-button"><i class="fas fa-volume-up"></i>
                            Ecouter</p>
                      <p class="info-section-consonant-title">Exemples</p>
                      {% for example in example_words|examples:vowel.id %}

                        <p id="play_{{ example.label }}" class="listen-button"><i class="fas fa-volume-up"></i>
                              {{ example.label }}</p>
                          {% block jquery %}

                            <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

                            <script type="text/javascript">
                              $(document).ready(function(){
                                var audioElement = document.createElement("audio");
                                $('#play_{{ example.label }}').click(function(){
                                  say('{{ example.label }}');
                                });
                              });
                             </script>
                          {% endblock %}
                      {% endfor %}
                    </form>

                    <script>
                      $(document).ready(function(){
                        $('#quit_cross_{{ vowel.label }}').click(function () {
                          $('#collapse_{{ vowel.label }}').dropdown('toggle');
                        })
                      });
                    </script>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>

                {% endfor %}

              </td>
            </tr>
          </tbody>
        </table>
    </div>
  </div>
</div>
</div>

{% endblock %}

{% block scripts %}
    <script type="text/javascript" src="{% static 'js/WSA_incompatibility.js' %}"></script>
    <script type="text/javascript">verify_WSA_compatibility()</script>
    {{ block.super }}

{% endblock %}